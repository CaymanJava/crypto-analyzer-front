<div class="modal-header">
  <h4 class="modal-title" id="modal-basic-title">{{name}}</h4>
  <button (click)="modal.close('close')" aria-label="Close" class="close" type="button">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <form [formGroup]="configForm">
    <app-pivot-point-picker
        [configForm]="configForm"
        key="indicatorType">
    </app-pivot-point-picker>
    <div *ngIf="hasPivotTypeChosen()">
      <div class="separator-breadcrumb border-top"></div>
      <app-color-picker *ngIf="isPivotLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'pivotColor')"
          [color]="drawConfigForm.get('pivotColor').value"
          [label]="'Pivot'">
      </app-color-picker>
      <app-color-picker
          (onColorChange)="onColorPickerChange($event, 'firstResistanceColor')"
          [color]="drawConfigForm.get('firstResistanceColor').value"
          [label]="'First resistance'">
      </app-color-picker>
      <app-color-picker *ngIf="isSecondLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'secondResistanceColor')"
          [color]="drawConfigForm.get('secondResistanceColor').value"
          [label]="'Second resistance'">
      </app-color-picker>
      <app-color-picker *ngIf="isThirdLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'thirdResistanceColor')"
          [color]="drawConfigForm.get('thirdResistanceColor').value"
          [label]="'Third resistance'">
      </app-color-picker>
      <app-color-picker *ngIf="isFourthLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'fourthResistanceColor')"
          [color]="drawConfigForm.get('fourthResistanceColor').value"
          [label]="'Fourth resistance'">
      </app-color-picker>
      <app-color-picker
          (onColorChange)="onColorPickerChange($event, 'firstSupportColor')"
          [color]="drawConfigForm.get('firstSupportColor').value"
          [label]="'First support'">
      </app-color-picker>
      <app-color-picker *ngIf="isSecondLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'secondSupportColor')"
          [color]="drawConfigForm.get('secondSupportColor').value"
          [label]="'Second support'">
      </app-color-picker>
      <app-color-picker *ngIf="isThirdLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'thirdSupportColor')"
          [color]="drawConfigForm.get('thirdSupportColor').value"
          [label]="'Third support'">
      </app-color-picker>
      <app-color-picker *ngIf="isFourthLineEnable()"
          (onColorChange)="onColorPickerChange($event, 'fourthSupportColor')"
          [color]="drawConfigForm.get('fourthSupportColor').value"
          [label]="'Fourth support'">
      </app-color-picker>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button (click)="modal.close('close')"
          class="btn btn-outline-warning btn-rounded"
          type="button">
    Close
  </button>
  <button (click)="modal.close('remove')"
          *ngIf="update"
          class="btn btn-outline-danger btn-rounded"
          type="button">
    Remove
  </button>
  <button (click)="onSubmit()"
          [disabled]="!configForm.valid || !drawConfigForm.valid"
          class="btn btn-outline-success btn-rounded"
          type="button">
    {{update ? 'Update' : 'Add'}}
  </button>
</div>
